import{E as Je,e as Qe,_ as P,t as Ze,f as _e,g as en,b as F,h as Ie,o as Q,i as J,l as Ke,c as Pe,a as Le,d as nn,r as We,j as tn,k as an,m as on,D as rn,n as sn,I as ln,B as cn}from"./TopicMapContextProvider-9iuN2wZv.js";import{P as l}from"./index-DNUR7M9R.js";import{r as d,R as i}from"./index-RYns6xqu.js";import{_ as b,a as dn}from"./_baseClone-BMRAXyjt.js";import{w as un}from"./index-DvoZgHAm.js";function fn(e){const n=d.useRef(e);return d.useEffect(()=>{n.current=e},[e]),n}function M(e){const n=fn(e);return d.useCallback(function(...o){return n.current&&n.current(...o)},[n])}var mn=["className","children"],ve,pn={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},vn=(ve={},ve[Je]="show",ve[Qe]="show",ve),be=i.forwardRef(function(e,n){var o=e.className,t=e.children,a=P(e,mn),r=d.useCallback(function(s){Ze(s),a.onEnter&&a.onEnter(s)},[a]);return i.createElement(_e,b({ref:n,addEndListener:en},a,{onEnter:r}),function(s,c){return i.cloneElement(t,b({},c,{className:F("fade",o,t.props.className,vn[s])}))})});be.defaultProps=pn;be.displayName="Fade";var hn=["label","onClick","className"],gn={label:l.string.isRequired,onClick:l.func},En={label:"Close"},ye=i.forwardRef(function(e,n){var o=e.label,t=e.onClick,a=e.className,r=P(e,hn);return i.createElement("button",b({ref:n,type:"button",className:F("close",a),onClick:t},r),i.createElement("span",{"aria-hidden":"true"},"×"),i.createElement("span",{className:"sr-only"},o))});ye.displayName="CloseButton";ye.propTypes=gn;ye.defaultProps=En;function bn(){const e=d.useRef(!0),n=d.useRef(()=>e.current);return d.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),n.current}function yn(e){const n=d.useRef(e);return n.current=e,n}function Ve(e){const n=yn(e);d.useEffect(()=>()=>n.current(),[])}var Cn=Function.prototype.bind.call(Function.prototype.call,[].slice);function H(e,n){return Cn(e.querySelectorAll(n))}function wn(e){const n=d.useRef(null);return d.useEffect(()=>{n.current=e}),n.current}function Nn(){return d.useState(null)}function Ue(e,n){if(e.contains)return e.contains(n);if(e.compareDocumentPosition)return e===n||!!(e.compareDocumentPosition(n)&16)}function xn(e,n){return e.classList?!!n&&e.classList.contains(n):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+n+" ")!==-1}var he;function ge(e){if((!he&&he!==0||e)&&Ie){var n=document.createElement("div");n.style.position="absolute",n.style.top="-9999px",n.style.width="50px",n.style.height="50px",n.style.overflow="scroll",document.body.appendChild(n),he=n.offsetWidth-n.clientWidth,document.body.removeChild(n)}return he}function Fe(e){e===void 0&&(e=Q());try{var n=e.activeElement;return!n||!n.nodeName?null:n}catch{return e.body}}function kn(e,n){e.classList?e.classList.add(n):xn(e,n)||(typeof e.className=="string"?e.className=e.className+" "+n:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+n))}function Ge(e,n){return e.replace(new RegExp("(^|\\s)"+n+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Sn(e,n){e.classList?e.classList.remove(n):typeof e.className=="string"?e.className=Ge(e.className,n):e.setAttribute("class",Ge(e.className&&e.className.baseVal||"",n))}function Rn(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function He(e){return"window"in e&&e.window===e?e:Rn(e)&&e.defaultView||!1}function Mn(e){return e&&e.tagName.toLowerCase()==="body"}function Tn(e){var n=He(e)?Q():Q(e),o=He(e)||n.defaultView;return n.body.clientWidth<o.innerWidth}function On(e){var n=He(e);return n||Mn(e)?Tn(e):e.scrollHeight>e.clientHeight}var Fn=["template","script","style"],Dn=function(n){var o=n.nodeType,t=n.tagName;return o===1&&Fn.indexOf(t.toLowerCase())===-1},Xe=function(n,o,t){[].forEach.call(n.children,function(a){o.indexOf(a)===-1&&Dn(a)&&t(a)})};function Ee(e,n){n&&(e?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden"))}function Bn(e,n){var o=n.dialog,t=n.backdrop;Xe(e,[o,t],function(a){return Ee(!0,a)})}function An(e,n){var o=n.dialog,t=n.backdrop;Xe(e,[o,t],function(a){return Ee(!1,a)})}function Hn(e,n){var o=-1;return e.some(function(t,a){return n(t,a)?(o=a,!0):!1}),o}var Ce=function(){function e(o){var t=o===void 0?{}:o,a=t.hideSiblingNodes,r=a===void 0?!0:a,s=t.handleContainerOverflow,c=s===void 0?!0:s;this.hideSiblingNodes=void 0,this.handleContainerOverflow=void 0,this.modals=void 0,this.containers=void 0,this.data=void 0,this.scrollbarSize=void 0,this.hideSiblingNodes=r,this.handleContainerOverflow=c,this.modals=[],this.containers=[],this.data=[],this.scrollbarSize=ge()}var n=e.prototype;return n.isContainerOverflowing=function(t){var a=this.data[this.containerIndexFromModal(t)];return a&&a.overflowing},n.containerIndexFromModal=function(t){return Hn(this.data,function(a){return a.modals.indexOf(t)!==-1})},n.setContainerStyle=function(t,a){var r={overflow:"hidden"};t.style={overflow:a.style.overflow,paddingRight:a.style.paddingRight},t.overflowing&&(r.paddingRight=parseInt(J(a,"paddingRight")||"0",10)+this.scrollbarSize+"px"),J(a,r)},n.removeContainerStyle=function(t,a){Object.assign(a.style,t.style)},n.add=function(t,a,r){var s=this.modals.indexOf(t),c=this.containers.indexOf(a);if(s!==-1)return s;if(s=this.modals.length,this.modals.push(t),this.hideSiblingNodes&&Bn(a,t),c!==-1)return this.data[c].modals.push(t),s;var f={modals:[t],classes:r?r.split(/\s+/):[],overflowing:On(a)};return this.handleContainerOverflow&&this.setContainerStyle(f,a),f.classes.forEach(kn.bind(null,a)),this.containers.push(a),this.data.push(f),s},n.remove=function(t){var a=this.modals.indexOf(t);if(a!==-1){var r=this.containerIndexFromModal(t),s=this.data[r],c=this.containers[r];if(s.modals.splice(s.modals.indexOf(t),1),this.modals.splice(a,1),s.modals.length===0)s.classes.forEach(Sn.bind(null,c)),this.handleContainerOverflow&&this.removeContainerStyle(s,c),this.hideSiblingNodes&&An(c,t),this.containers.splice(r,1),this.data.splice(r,1);else if(this.hideSiblingNodes){var f=s.modals[s.modals.length-1],E=f.backdrop,h=f.dialog;Ee(!1,h),Ee(!1,E)}}},n.isTopModal=function(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t},e}(),De=function(n){var o;return typeof document>"u"?null:n==null?Q().body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),(o=n)!=null&&o.nodeType&&n||null)};function In(e,n){var o=d.useState(function(){return De(e)}),t=o[0],a=o[1];if(!t){var r=De(e);r&&a(r)}return d.useEffect(function(){},[n,t]),d.useEffect(function(){var s=De(e);s!==t&&a(s)},[e,t]),t}var Be;function Pn(){return Be||(Be=new Ce),Be}function Ln(e){var n=e||Pn(),o=d.useRef({dialog:null,backdrop:null});return Object.assign(o.current,{add:function(a,r){return n.add(o.current,a,r)},remove:function(){return n.remove(o.current)},isTopModal:function(){return n.isTopModal(o.current)},setDialogRef:d.useCallback(function(t){o.current.dialog=t},[]),setBackdropRef:d.useCallback(function(t){o.current.backdrop=t},[])})}var $e=d.forwardRef(function(e,n){var o=e.show,t=o===void 0?!1:o,a=e.role,r=a===void 0?"dialog":a,s=e.className,c=e.style,f=e.children,E=e.backdrop,h=E===void 0?!0:E,L=e.keyboard,$=L===void 0?!0:L,N=e.onBackdropClick,y=e.onEscapeKeyDown,k=e.transition,S=e.backdropTransition,D=e.autoFocus,C=D===void 0?!0:D,Z=e.enforceFocus,we=Z===void 0?!0:Z,_=e.restoreFocus,Ne=_===void 0?!0:_,xe=e.restoreFocusOptions,ee=e.renderDialog,j=e.renderBackdrop,ke=j===void 0?function(m){return i.createElement("div",m)}:j,ne=e.manager,te=e.container,ae=e.containerClassName,z=e.onShow,K=e.onHide,oe=K===void 0?function(){}:K,re=e.onExit,ie=e.onExited,Se=e.onExiting,se=e.onEnter,Re=e.onEntering,le=e.onEntered,W=P(e,["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","containerClassName","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"]),x=In(te),p=Ln(ne),ce=bn(),w=wn(t),de=d.useState(!t),R=de[0],U=de[1],T=d.useRef(null);d.useImperativeHandle(n,function(){return p},[p]),Ie&&!w&&t&&(T.current=Fe()),!k&&!t&&!R?U(!0):t&&R&&U(!1);var G=M(function(){if(p.add(x,ae),X.current=Ke(document,"keydown",ue),V.current=Ke(document,"focus",function(){return setTimeout(Me)},!0),z&&z(),C){var m=Fe(document);p.dialog&&m&&!Ue(p.dialog,m)&&(T.current=m,p.dialog.focus())}}),O=M(function(){if(p.remove(),X.current==null||X.current(),V.current==null||V.current(),Ne){var m;(m=T.current)==null||m.focus==null||m.focus(xe),T.current=null}});d.useEffect(function(){!t||!x||G()},[t,x,G]),d.useEffect(function(){R&&O()},[R,O]),Ve(function(){O()});var Me=M(function(){if(!(!we||!ce()||!p.isTopModal())){var m=Fe();p.dialog&&m&&!Ue(p.dialog,m)&&p.dialog.focus()}}),Te=M(function(m){m.target===m.currentTarget&&(N==null||N(m),h===!0&&oe())}),ue=M(function(m){$&&m.keyCode===27&&p.isTopModal()&&(y==null||y(m),m.defaultPrevented||oe())}),V=d.useRef(),X=d.useRef(),Oe=function(){U(!0);for(var pe=arguments.length,v=new Array(pe),u=0;u<pe;u++)v[u]=arguments[u];ie==null||ie.apply(void 0,v)},Y=k;if(!x||!(t||Y&&!R))return null;var fe=b({role:r,ref:p.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},W,{style:c,className:s,tabIndex:-1}),q=ee?ee(fe):i.createElement("div",fe,i.cloneElement(f,{role:"document"}));Y&&(q=i.createElement(Y,{appear:!0,unmountOnExit:!0,in:!!t,onExit:re,onExiting:Se,onExited:Oe,onEnter:se,onEntering:Re,onEntered:le},q));var B=null;if(h){var me=S;B=ke({ref:p.setBackdropRef,onClick:Te}),me&&(B=i.createElement(me,{appear:!0,in:!!t},B))}return i.createElement(i.Fragment,null,un.createPortal(i.createElement(i.Fragment,null,B,q),x))}),$n={show:l.bool,container:l.any,onShow:l.func,onHide:l.func,backdrop:l.oneOfType([l.bool,l.oneOf(["static"])]),renderDialog:l.func,renderBackdrop:l.func,onEscapeKeyDown:l.func,onBackdropClick:l.func,containerClassName:l.string,keyboard:l.bool,transition:l.elementType,backdropTransition:l.elementType,autoFocus:l.bool,enforceFocus:l.bool,restoreFocus:l.bool,restoreFocusOptions:l.shape({preventScroll:l.bool}),onEnter:l.func,onEntering:l.func,onEntered:l.func,onExit:l.func,onExiting:l.func,onExited:l.func,manager:l.instanceOf(Ce)};$e.displayName="Modal";$e.propTypes=$n;const jn=Object.assign($e,{Manager:Ce});var I={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"},zn=function(e){dn(n,e);function n(){return e.apply(this,arguments)||this}var o=n.prototype;return o.adjustAndStore=function(a,r,s){var c,f=r.style[a];r.dataset[a]=f,J(r,(c={},c[a]=parseFloat(J(r,a))+s+"px",c))},o.restore=function(a,r){var s=r.dataset[a];if(s!==void 0){var c;delete r.dataset[a],J(r,(c={},c[a]=s,c))}},o.setContainerStyle=function(a,r){var s=this;if(e.prototype.setContainerStyle.call(this,a,r),!!a.overflowing){var c=ge();H(r,I.FIXED_CONTENT).forEach(function(f){return s.adjustAndStore("paddingRight",f,c)}),H(r,I.STICKY_CONTENT).forEach(function(f){return s.adjustAndStore("marginRight",f,-c)}),H(r,I.NAVBAR_TOGGLER).forEach(function(f){return s.adjustAndStore("marginRight",f,c)})}},o.removeContainerStyle=function(a,r){var s=this;e.prototype.removeContainerStyle.call(this,a,r),H(r,I.FIXED_CONTENT).forEach(function(c){return s.restore("paddingRight",c)}),H(r,I.STICKY_CONTENT).forEach(function(c){return s.restore("marginRight",c)}),H(r,I.NAVBAR_TOGGLER).forEach(function(c){return s.restore("marginRight",c)})},n}(Ce);const Kn=Pe("modal-body");var Ye=i.createContext({onHide:function(){}}),Wn=["bsPrefix","className","contentClassName","centered","size","children","scrollable"],je=i.forwardRef(function(e,n){var o=e.bsPrefix,t=e.className,a=e.contentClassName,r=e.centered,s=e.size,c=e.children,f=e.scrollable,E=P(e,Wn);o=Le(o,"modal");var h=o+"-dialog";return i.createElement("div",b({},E,{ref:n,className:F(h,t,s&&o+"-"+s,r&&h+"-centered",f&&h+"-scrollable")}),i.createElement("div",{className:F(o+"-content",a)},c))});je.displayName="ModalDialog";const Un=Pe("modal-footer");var Gn=["bsPrefix","closeLabel","closeButton","onHide","className","children"],Vn={closeLabel:"Close",closeButton:!1},ze=i.forwardRef(function(e,n){var o=e.bsPrefix,t=e.closeLabel,a=e.closeButton,r=e.onHide,s=e.className,c=e.children,f=P(e,Gn);o=Le(o,"modal-header");var E=d.useContext(Ye),h=M(function(){E&&E.onHide(),r&&r()});return i.createElement("div",b({ref:n},f,{className:F(s,o)}),c,a&&i.createElement(ye,{label:t,onClick:h}))});ze.displayName="ModalHeader";ze.defaultProps=Vn;var Xn=nn("h4");const Yn=Pe("modal-title",{Component:Xn});var qn=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","aria-describedby","aria-label","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],Ae,Jn={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:je};function Qn(e){return i.createElement(be,b({},e,{timeout:null}))}function Zn(e){return i.createElement(be,b({},e,{timeout:null}))}var g=i.forwardRef(function(e,n){var o=e.bsPrefix,t=e.className,a=e.style,r=e.dialogClassName,s=e.contentClassName,c=e.children,f=e.dialogAs,E=e["aria-labelledby"],h=e["aria-describedby"],L=e["aria-label"],$=e.show,N=e.animation,y=e.backdrop,k=e.keyboard,S=e.onEscapeKeyDown,D=e.onShow,C=e.onHide,Z=e.container,we=e.autoFocus,_=e.enforceFocus,Ne=e.restoreFocus,xe=e.restoreFocusOptions,ee=e.onEntered,j=e.onExit,ke=e.onExiting,ne=e.onEnter,te=e.onEntering,ae=e.onExited,z=e.backdropClassName,K=e.manager,oe=P(e,qn),re=d.useState({}),ie=re[0],Se=re[1],se=d.useState(!1),Re=se[0],le=se[1],W=d.useRef(!1),x=d.useRef(!1),p=d.useRef(null),ce=Nn(),w=ce[0],de=ce[1],R=M(C);o=Le(o,"modal"),d.useImperativeHandle(n,function(){return{get _modal(){return w}}},[w]);var U=d.useMemo(function(){return{onHide:R}},[R]);function T(){return K||(Ae||(Ae=new zn),Ae)}function G(v){if(Ie){var u=T().isContainerOverflowing(w),A=v.scrollHeight>Q(v).documentElement.clientHeight;Se({paddingRight:u&&!A?ge():void 0,paddingLeft:!u&&A?ge():void 0})}}var O=M(function(){w&&G(w.dialog)});Ve(function(){We(window,"resize",O),p.current&&p.current()});var Me=function(){W.current=!0},Te=function(u){W.current&&w&&u.target===w.dialog&&(x.current=!0),W.current=!1},ue=function(){le(!0),p.current=an(w.dialog,function(){le(!1)})},V=function(u){u.target===u.currentTarget&&ue()},X=function(u){if(y==="static"){V(u);return}if(x.current||u.target!==u.currentTarget){x.current=!1;return}C==null||C()},Oe=function(u){!k&&y==="static"?(u.preventDefault(),ue()):k&&S&&S(u)},Y=function(u,A){u&&(u.style.display="block",G(u)),ne==null||ne(u,A)},fe=function(u){p.current==null||p.current(),j==null||j(u)},q=function(u,A){te==null||te(u,A),tn(window,"resize",O)},B=function(u){u&&(u.style.display=""),ae==null||ae(u),We(window,"resize",O)},me=d.useCallback(function(v){return i.createElement("div",b({},v,{className:F(o+"-backdrop",z,!N&&"show")}))},[N,z,o]),m=b({},a,ie);N||(m.display="block");var pe=function(u){return i.createElement("div",b({role:"dialog"},u,{style:m,className:F(t,o,Re&&o+"-static"),onClick:y?X:void 0,onMouseUp:Te,"aria-label":L,"aria-labelledby":E,"aria-describedby":h}),i.createElement(f,b({},oe,{onMouseDown:Me,className:r,contentClassName:s}),c))};return i.createElement(Ye.Provider,{value:U},i.createElement(jn,{show:$,ref:de,backdrop:y,container:Z,keyboard:!0,autoFocus:we,enforceFocus:_,restoreFocus:Ne,restoreFocusOptions:xe,onEscapeKeyDown:Oe,onShow:D,onHide:C,onEnter:Y,onEntering:q,onEntered:ee,onExit:fe,onExiting:ke,onExited:B,manager:T(),containerClassName:o+"-open",transition:N?Qn:void 0,backdropTransition:N?Zn:void 0,renderBackdrop:me,renderDialog:pe}))});g.displayName="Modal";g.defaultProps=Jn;g.Body=Kn;g.Header=ze;g.Title=Yn;g.Footer=Un;g.Dialog=je;g.TRANSITION_DURATION=300;g.BACKDROP_TRANSITION_DURATION=150;const qe=({menuIcon:e,menuTitle:n,menuIntroduction:o,menuSections:t,menuFooter:a,height:r,width:s,visible:c,setVisible:f,activeSectionKey:E})=>{const{appMenuVisible:h,activeMenuSection:L}=d.useContext(on),{setAppMenuVisible:$,setAppMenuActiveMenuSection:N}=d.useContext(rn),{windowSize:y}=d.useContext(sn),k=()=>{f!==void 0?f(!1):$(!1)};let S;r!==void 0?S=r:S=(y==null?void 0:y.height)-180;const D={overflowY:"auto",overflowX:"hidden",maxHeight:S};let C=!1;return c!==void 0?C=c:C=h,i.createElement(g,{style:{zIndex:3e7},height:"100%",size:"xl",show:C,onHide:k,keyboard:!1},i.createElement(g.Header,null,i.createElement(g.Title,null,i.createElement(ln,{name:e})," ",n)),i.createElement(g.Body,{style:D,id:"myMenu",key:E},i.createElement("div",{style:{marginBottom:5}},o),t),i.createElement(g.Footer,null,i.createElement("table",{style:{width:"100%"}},i.createElement("tbody",null,i.createElement("tr",null,i.createElement("td",{style:{textAlign:"left",verticalAlign:"top",paddingRight:"30px"}},a),i.createElement("td",null,i.createElement(cn,{id:"cmdCloseModalApplicationMenu",variant:"primary",type:"submit",onClick:k},"Ok")))))))};qe.propTypes={menuIcon:l.string,menuTitle:l.string,menuIntroduction:l.object,menuSections:l.array,menuFooter:l.object,uiStateActions:l.object,uiState:l.object,kitasState:l.object,kitasActions:l.object,mappingState:l.object,mappingActions:l.object};qe.defaultProps={menuIcon:"bars",menuTitle:"Einstellungen und Hilfe",menuSections:[],menuFooter:i.createElement("div",{style:{fontSize:"11px"}},i.createElement("b",null,"react-cismap")," (",i.createElement("a",{href:"https://cismet.de/",target:"_cismet"},"cismet GmbH")," ","auf Basis von"," ",i.createElement("a",{href:"http://leafletjs.com/",target:"_more"},"Leaflet")," ","und"," ",i.createElement("a",{href:"https://cismet.de/#refs",target:"_cismet"},"cids | WuNDa")," ","|"," ",i.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://cismet.de/datenschutzerklaerung.html"},"Datenschutzerklärung (Privacy Policy)"))};export{ye as C,be as F,qe as G,M as u};
